{"version":3,"sources":["utils/getOwnPropsParams.js","providers/StoresProvider/index.js","providers/StoresProvider/withStores.js","components/PanoramasVR/Lazy.js","components/PanoramasList/Lazy.js","containers/Building/Error.js","containers/Building/index.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/inherits.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/@babel/runtime/helpers/extends.js","../node_modules/@babel/runtime/helpers/objectSpread.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js"],"names":["getOwnPropsParams","props","key","value","match","params","String","StoreProvider","state","isLoading","stores","setStores","_this","setState","_this2","this","storeNames","Promise","all","map","storeName","getStore","then","storesMap","reduce","acc","store","index","objectSpread_default","defineProperty_default","children","_this$state","React","Component","propTypes","arrayOf","string","func","withStore","react_default","a","createElement","StoresProvider","extends_default","lazy","__webpack_require__","e","bind","Error","styled","div","_templateObject","PanoramasList","withStores","observer","selected","handleChange","buildingID","panoramases","getBuildingByID","panoramasList","selectPanoramasList","error","Building_Error","concat","length","Loading","_panoramasList$select","id","src","thumbnail","Fragment","Suspense","fallback","Lazy","PanoramasList_Lazy","handleClick","shape","bool","getPanoramasListByID","module","exports","instance","Constructor","TypeError","_defineProperties","target","i","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","prototype","_typeof","assertThisInitialized","self","call","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","subClass","superClass","create","constructor","obj","_extends","assign","arguments","source","hasOwnProperty","apply","ownKeys","keys","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","forEach","_typeof2","Symbol","iterator","ReferenceError","_setPrototypeOf","p"],"mappings":"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","file":"static/js/Building.533898b4.chunk.js","sourcesContent":["const getOwnPropsParams = (props, key) => {\n  const value = props[key] || (props.match && props.match.params[key]);\n\n  return value && String(value);\n};\n\nexport default getOwnPropsParams;\n","import React from 'react';\nimport { arrayOf, func, string } from 'prop-types';\n\nimport { getStore } from '@/stores';\n\nclass StoreProvider extends React.Component {\n  state = {\n    isLoading: true,\n    stores: {},\n  };\n\n  componentDidMount() {\n    const { storeNames } = this.props;\n\n    Promise.all(storeNames.map(storeName => getStore(storeName)))\n      .then((stores) => {\n        const storesMap = stores.reduce((acc, store, index) => ({\n          ...acc,\n          [storeNames[index]]: store,\n        }), {});\n\n        this.setStores(storesMap);\n      });\n  }\n\n  setStores = (stores) => {\n    this.setState({\n      stores,\n      isLoading: false,\n    });\n  }\n\n  render() {\n    const { children } = this.props;\n    const { isLoading, stores } = this.state;\n\n    if (isLoading) {\n      return null;\n    }\n\n    return children(stores);\n  }\n}\n\nStoreProvider.propTypes = {\n  storeNames: arrayOf(string),\n  children: func,\n};\n\nexport default StoreProvider;\n","import React from 'react';\nimport StoreProvider from '.';\n\nconst withStore = storeNames => Component => props => (\n  <StoreProvider storeNames={storeNames}>\n    {stores => <Component stores={stores} {...props} />}\n  </StoreProvider>\n);\n\nexport default withStore;\n","import React from 'react';\n\nexport default React.lazy(() => import(/* webpackChunkName: \"PanoramasVR\" */'./'));\n","import React from 'react';\n\nexport default React.lazy(() => import(/* webpackChunkName: \"PanoramasList\" */'./'));\n","import styled from 'styled-components';\n\nconst Error = styled.div`\n  position: absolute;\n  top: 20%;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 15px;\n  border: 1px solid #ebccd1;\n  border-radius: 4px;\n  color: #a94442;\n  background-color: #f2dede;\n  text-align: center;\n`;\n\nexport default Error;\n","import React from 'react';\nimport { bool, func, shape } from 'prop-types';\nimport { observer } from 'mobx-react';\n\nimport getOwnPropsParams from '@/utils/getOwnPropsParams';\nimport withStores from '@/providers/StoresProvider/withStores';\nimport Loading from '@/components/Loading';\nimport LazyPanoramasVR from '@/components/PanoramasVR/Lazy';\nimport LazyPanoramasList from '@/components/PanoramasList/Lazy';\nimport Error from './Error';\n\nconst stores = ['panoramases'];\n\n@withStores(stores)\n@observer\nclass PanoramasList extends React.Component {\n  state = {\n    selected: 0,\n  };\n\n  componentDidMount() {\n    const buildingID = getOwnPropsParams(this.props, 'buildingID');\n    const { panoramases } = this.props.stores;\n\n    panoramases.getBuildingByID(buildingID);\n  }\n\n  handleChange = (selected) => {\n    this.setState({ selected });\n  }\n\n  render() {\n    const buildingID = getOwnPropsParams(this.props, 'buildingID');\n    const { panoramases } = this.props.stores;\n    const { selected } = this.state;\n    const panoramasList = panoramases.selectPanoramasList(buildingID);\n\n    if (panoramases.error) {\n      return <Error>{`Oops...${panoramases.error}`}</Error>;\n    } else if (panoramases.isLoading || panoramasList.length === 0) {\n      return <Loading />;\n    }\n\n    const { id, src, thumbnail } = panoramasList[selected];\n\n    return (\n      <React.Fragment>\n        <React.Suspense fallback={<Loading />}>\n          <LazyPanoramasVR id={id} src={src} thumbnail={thumbnail} />\n        </React.Suspense>\n        <React.Suspense fallback=\"\">\n          <LazyPanoramasList\n            panoramasList={panoramasList}\n            selected={selected}\n            handleClick={this.handleChange}\n          />\n        </React.Suspense>\n      </React.Fragment>\n    );\n  }\n}\n\nPanoramasList.propTypes = {\n  stores: shape({\n    panoramases: shape({\n      isLoading: bool,\n      getBuildingByID: func,\n      getPanoramasListByID: func,\n    }),\n  }),\n};\n\nexport default PanoramasList;\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;"],"sourceRoot":""}