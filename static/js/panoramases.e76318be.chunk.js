(window.webpackJsonp=window.webpackJsonp||[]).push([[0,2],{19:function(t,e,n){"use strict";n.r(e);var i,a,r,o,l,c,d,b,s,V,p=n(83),U=n.n(p),R=n(72),u=n.n(R),Z=n(73),N=n.n(Z),T=n(84),h=n.n(T),m=(n(85),n(3)),E=n(89),W=n(86),S=n.n(W),M=n(79),k=n.n(M),F=(n(87),new Proxy(Object({NODE_ENV:"production",PUBLIC_URL:"/iStaging",REACT_APP_FIREBASE_DATABASE_URL:"https://vr-cam-161603.firebaseio.com",REACT_APP_FIREBASE_SERVICE_ACCOUNT:"ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAidnItY2FtLTE2MTYwMyIsCiAgInByaXZhdGVfa2V5X2lkIjogIjlhYjdhNjBkZThmZGZhYjllNTBiMDk1YWRjNjY0ZTIzN2I5Y2YxM2IiLAogICJwcml2YXRlX2tleSI6ICItLS0tLUJFR0lOIFBSSVZBVEUgS0VZLS0tLS1cbk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRQ1hLVHkrdFhUN0JhZW1cbnhubkZwWElUOTNjdzVaaEl3NERPZXBOYVliaWJRZ01uOU1rYWVnUVErYTZOaHpGTmRCWllMVFZxOGZlTXhKTUJcbk9NeW1mK0l5S2dFeGNFcDNPdDNqZGNwSTRiUG0wS2ZLc2dQOE9YYS9pS3d4ZmIzd1FsTUxGRmRIdDZhek92d3RcblpUTVp3QUZPeTczTzI3dm1uYXQxV2lOQVlaQ3A3cWJRMXBwRFdkN2YvcUVhbVdCTUV1bzRZM3dCV2tlcGw1ZW5cbmkyUURqUXJzNGExUFhnSXlMMHcrcVBUd2Z5OExYbGxpd2NLSUdtOFlnTnJtS0ppZjRMUjUxRG81WVU2d1FIcW1cbks5SjU4R3YwTk8yQlI0dHVpQkZVMm8wQjV1TDEydnE1c2FtZE9jOGF1RWFSVjd5YW9uL3YrUmJOMlJ3OHZRMHhcbkZLelRtaU0vQWdNQkFBRUNnZ0VBRTUrcTN5YzNkSThiWUs5TGg3a2V3akRTTEdyaUJqQTdQSkwxSmpxaGVLWnRcbk9uYXcxTnNhUkFubCswR2R5T3hWS2tWVU5mb0xwUjZ2NXV5MHhMaTlhTDNEUWVQT0J3U0JZZEljM0xGUVpacVlcbjdkdUdZT3drMm1DbjJoVDAzNGY4dCtlQUhUTmVWTTVIaHEwb29TTW9DRTZ5NlhQbFJOOGJMelR3ZHA4ejVKdC9cbnQ5OXVEdEdzSlZJTFA4OVJzMmVKenY2N25FTEFaM29WVXhxWHIzQktFdlNDNnpJUzJDemxhN3AzUjZqY3VicUpcbmxVOFl5S2ZnS2JnMERWSWhIMGsrV2FWU3hjbzVvT2pvdHIvdnpWeDkxSDFTd01uc1U5VC9oYlYyOTR3ak5WSm9cbllsZDk1TjFlczI2WlJGSVhLTkJFQitsUGpkUHUvMllZdGl4bzFHQytvUUtCZ1FETU9Sc1g5WDYwMjNDc2xxZW9cbjRCc3kwb0NYM2JzbFNlYmwvVHJSQ2hTNE9pd2FMSko5ZXN4cSszZFQ3N3BTZWNEdDE0M1Nmd0NHcmREcmJzdDBcbjhvdkI5Ykg4bEFaNmZuN2NWSjE3UXloOXVDM1l5WlRWaTJJMmg3dU01NG1zV2V1YURlZERhTXdVZEpCcHlVS3lcbmtXb211UU1mNUJWWWFXMVRJR0FwS3FLaUt3S0JnUUM5ZkRJK1d0emhXaTdiRUhHN01QU005THZ2OXVYaVphSWJcblRhUmhGZUFHaU40VUt2TU4rZk9mS3VLVmdVNXJIVUJuazV1QWw1V2NUWXk4M3M0enBGcXMzTmpQYk9DUU4vQkVcbnFhTlRrSEEyNXBsMVRRcUpxZEZpSHl6U04yV3MveTVrdlp0ejZqQzRsQzd4UmxzNUlQS2kzamVUU0lCWEN1SXlcbnhvZ0RHRC85UFFLQmdCeG9KUmlrRVVmZTdrRlRnMmErSllwZ05YcnFZTW5EQ2RjYjdqNTloSHhMdXk2NDNIZVBcbnlUZG9XeVRWeDdrSkxvam0zdGRVeXlId3M0ck1Fb2psNUFMS3hrTTM0OTdPRVo5Y05idWJqOXBNOERPamRveHRcbm91K3EyYSt6MVRhZ0cyR0daWkMrMXdSUlluVVVoYTZKQTViM1RUUDJhZkd1V0lLamtqeW5yWStaQW9HQkFMYXFcbkpaMXE1b2Z2OGorSWFMczJCR3BsKzA3blN0R25mRkNwMW84cEVWLzdUV3RQeENOekUrSWE2M2VJd2RvTXh1dVNcbnBsT2V6Y0Z5R1B4eUpZSXZMS0o3L0I1cUxVbWFRMnROeFg5blBHWVFnMXRMTzU5ZUw5VlJqRm5Td1plMklEbEpcbmQ3U1V6UWNEQXdYZzkwdnBjVDZFempxVHAvVkJMcklZSlVJbWZIbFpBb0dBSnUwYTNlR0NpY0N0Z2pVb3JiUTlcbmllc3V0UGpXM3V2Z3ROdW9QVE1iV2p3Szc1dlJoaXJwbnJYK1NGOTJ0NENLbWVyZmlDdXZnV09rekZReXU4NTdcbit5R0gwQ1JoT0N1L3Y4U1cxaHdYN0RXSDNtbGZ5RzV1eGRyekYvSENtMnJtQ2tsY3V3SmxUOVQ3bFRGNXdUcWZcbkxxSDVFK1ZFK043dGlsWXdVS3AzaFdJPVxuLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLVxuIiwKICAiY2xpZW50X2VtYWlsIjogImZpcmViYXNlLWFkbWluc2RrLTkxMmc1QHZyLWNhbS0xNjE2MDMuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJjbGllbnRfaWQiOiAiMTE3MjkxMjE1NDg1Njk5NDc3NTM0IiwKICAiYXV0aF91cmkiOiAiaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgiLAogICJ0b2tlbl91cmkiOiAiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4iLAogICJhdXRoX3Byb3ZpZGVyX3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YxL2NlcnRzIiwKICAiY2xpZW50X3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vcm9ib3QvdjEvbWV0YWRhdGEveDUwOS9maXJlYmFzZS1hZG1pbnNkay05MTJnNSU0MHZyLWNhbS0xNjE2MDMuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iCn0K"}),{get:function(t,e){return t["".concat("REACT_APP_").concat(e)]}})),Y=new function t(){var e=this;u()(this,t),this.app=null,this.db=null,this.ref={},this.init=function(){if(!e.app){var t=F.FIREBASE_DATABASE_URL,n=window.atob(F.FIREBASE_SERVICE_ACCOUNT);e.app=k.a.initializeApp({databaseURL:t,serviceAccount:n}),e.db=e.app.database()}},this.getRef=function(t){return e.db||e.init(),e.ref[t]||(e.ref[t]=e.db.ref("/".concat(t))),e.ref[t]},this.close=function(){e.db&&e.db.goOffline(),e.app&&e.app.delete()}},y=n(45),g=function(t,e){if(!e||!e.data)return{};var n=e.data,i=n.index,a=n.mobileUrl,r=n.desktopUrl;return{id:t,index:i,thumbnail:n.thumbnail,category:n.category,src:Boolean(S.a.mobile||S.a.tablet)?a:r}},J=(i=m.action.bound,a=m.action.bound,r=m.action.bound,o=m.action.bound,l=m.action.bound,c=function(){function t(){var e=this;u()(this,t),U()(this,"isLoading",d,this),U()(this,"error",b,this),U()(this,"panoramases",s,this),U()(this,"buildings",V,this),this.selectPanoramasList=Object(E.a)(function(t){return(e.buildings[t]||[]).map(function(t){return g(t,e.panoramases[t])}).sort(function(t,e){return t.index-e.index})})}return N()(t,[{key:"getBuildingByID",value:function(t){var e=this;this.isLoading||(this.setIsLoading(!0),Y.getRef(y.NAME).orderByChild(y.ORDER_KEY).equalTo(t).once("value").then(function(n){var i=n.val();if(!i)throw new Error("Cannot find panoramases with buildingID: ".concat(t));e.setBuilding(t,i),e.setPanoramases(i)}).catch(function(t){e.setError(t)}).then(function(){e.setIsLoading(!1)}))}},{key:"setBuilding",value:function(t,e){this.buildings[t]=Object.keys(e)}},{key:"setPanoramases",value:function(t){this.panoramases=Object.assign(this.panoramases,t)}},{key:"setIsLoading",value:function(t){this.isLoading=t}},{key:"setError",value:function(t){this.error=t.message}}]),t}(),d=h()(c.prototype,"isLoading",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=h()(c.prototype,"error",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=h()(c.prototype,"panoramases",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),V=h()(c.prototype,"buildings",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),h()(c.prototype,"getBuildingByID",[i],Object.getOwnPropertyDescriptor(c.prototype,"getBuildingByID"),c.prototype),h()(c.prototype,"setBuilding",[a],Object.getOwnPropertyDescriptor(c.prototype,"setBuilding"),c.prototype),h()(c.prototype,"setPanoramases",[r],Object.getOwnPropertyDescriptor(c.prototype,"setPanoramases"),c.prototype),h()(c.prototype,"setIsLoading",[o],Object.getOwnPropertyDescriptor(c.prototype,"setIsLoading"),c.prototype),h()(c.prototype,"setError",[l],Object.getOwnPropertyDescriptor(c.prototype,"setError"),c.prototype),c);e.default=new J},45:function(t,e,n){"use strict";n.r(e),n.d(e,"NAME",function(){return i}),n.d(e,"ORDER_KEY",function(){return a});var i="panoramas",a="Building"}}]);
//# sourceMappingURL=panoramases.e76318be.chunk.js.map